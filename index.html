<!DOCTYPE html> 
 <html> 
 <head> 
   <base href="/chatweb/"> 
   <meta charset="UTF-8"> 
   <title>Chat App</title> 
   <link rel="manifest" href="manifest.json"> 
   <script> 
     window.flutterWebRenderer = "html"; 
   </script> 
   <!-- OneSignal SDK -->
   <script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
 </head> 
 <body> 
   <div id="loading" style="display:flex;justify-content:center;align-items:center;height:100vh;"> 
     <div style="width:40px;height:40px;border:4px solid #f3f3f3;border-top:4px solid #3498db;border-radius:50%;animation:spin 1s linear infinite;"></div> 
   </div> 
   <style>@keyframes spin {0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}</style> 
 
   <script src="flutter.js?v=1" defer></script> 
   <script> 
     // Inicialização do OneSignal em segundo plano
     window.OneSignalDeferred = window.OneSignalDeferred || [];
     OneSignalDeferred.push(async function(OneSignal) {
       try {
         await OneSignal.init({
           appId: "61e6874c-bca0-4628-ad07-8053c0cd499e",
           serviceWorkerPath: "OneSignalSDK.sw.js",
           allowLocalhostAsSecureOrigin: true,
         });
       } catch (e) {
         console.warn('OneSignal init delayed/failed:', e);
       }
     });

     window.addEventListener('load', function(ev) { 
       _flutter.loader.loadEntrypoint({ 
         onEntrypointLoaded: function(engineInitializer) { 
           engineInitializer.initializeEngine().then(function(appRunner) { 
             const loadingIndicator = document.getElementById('loading');
             if (loadingIndicator) loadingIndicator.remove();
             appRunner.runApp(); 
           }); 
         } 
       }); 
     }); 
   </script> 
 </body> 
 </html> 
